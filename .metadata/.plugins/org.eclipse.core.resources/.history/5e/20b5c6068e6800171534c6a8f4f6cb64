#include <iostream>
#include <opencv2/opencv.hpp>
using namespace std;
using namespace cv;

int main() {
	VideoCapture *capture;

	capture->open(0);

	cvNamedWindow("myWindow", CV_WINDOW_AUTOSIZE);

	IplImage *frame;

	while (true) {
		frame = cvQueryFrame(capture);

		//展示当前帧的图片
		cvShowImage("myWindow", frame);
		char c = cvWaitKey(33);
		if (c == 27) {
			break;
		}
	}
	//释放视频
	cvReleaseCapture(&capture);
	//销毁窗口
	cvDestroyWindow("myWindow");
}
